{% extends 'base.html.twig' %}

{% block title %}Se connecter
{% endblock %}
{% block css %}
	<link href="{{ asset('assets/css/navbar.css') }}" rel="stylesheet"/>
	<link
	href="{{ asset('assets/css/styles.css') }}" rel="stylesheet"/>

{#{{ encore_entry_link_tags('app') }}#}
{% endblock %}

{% block js %}
	{# <script src="{{ asset('assets/js/navbar.js') }}"></script> #}
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
{% for message in app.flashes('message' )%}

			<div class="alert alert-success" role="alert">
				{{message}}
			</div>
		{% endfor %}
{% for message in app.flashes('warning' )%}

			<div class="alert alert-warning" role="alert">
				{{message}}
			</div>
		{% endfor %}
{% for message in app.flashes('danger' )%}

			<div class="alert alert-danger" role="alert">
				{{message}}
			</div>
		{% endfor %}
	<h1 class="text-center" style=" padding: 2rem 1rem;margin-bottom: 2rem;background-color: #e9ecef;border-radius: .3rem;opacity:0.8;color:#7f5539;font-weight:bold">Connexion</h1>
	<div class="container mt-5 mb-5 ">
		<div class="row  " style="display:flex;justify-content:center;">
			<div class="col-6" style="padding: 2rem 1rem;margin-bottom: 2rem;background-color: #e9ecef;border-radius: .3rem;">

				<form method="post">
					<h1 class="h3 mb-3 font-weight-normal text-center">
						<strong>Bonjour!<strong></h1>
							{% if error %}
								<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
							{% endif %}

							{% if app.user %}
								<div class="mb-3">
									Vous êtes déjà connecté avec l'email suivant :
									{{ app.user.username }},
									<a href="{{ path('app_logout') }}" style="color:red;"><br>
										Se déconnecter?</a>
								</div>
							{% endif %}

							<h6>
								Envie de nous rejoindre ?
								<a href="{{path('app_register')}}" style="color:blue;text-decoration:underline">
									Créer un compte</a>
							</h6>
							<h4>Connectez-vous pour découvrir toutes nos fonctionnalités.</h4>
							<label for="inputEmail">Email</label><br>
							<input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>
							<label for="inputPassword">Mot de passe</label>
							<input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>

							<input
							type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

							{#
														        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
														        See https://symfony.com/doc/current/security/remember_me.html
														
														        <div class="checkbox mb-3">
														            <label>
														                <input type="checkbox" name="_remember_me"> Remember me
														            </label>
														        </div>
														    #}
							<br>&nbsp;
							<div class="row" style="justify-content:center;display:flex">
								<div class="col-md-6" style="justify-content:center;display:flex">

									<button class="mt-2 btn btn-md btn-primary center" type="submit">
										Se connecter
									</button>
								</div>
								<h6>
									<a href="{{path('forgotten_pass')}} " style="color:blue;text-decoration:underline">Mot de passe oublié ?</a>
								</h6>
							</div>


						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
